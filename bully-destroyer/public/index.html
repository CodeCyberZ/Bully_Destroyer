<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project BULLY DESTROYER</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <button id="theme-toggle" class="float-btn"><i class="fas fa-moon"></i></button>

        <section id="homepage" class="active-section">
            <div class="hero">
                <h1>BULLY <span class="highlight">DESTROYER</span></h1>
                <p>You are not alone. We are here to listen.</p>
                <button onclick="navigateTo('login-page')" class="btn-primary">Get Started</button>
                <div class="info-card">
                    <h3><i class="fas fa-shield-alt"></i> Anonymous</h3>
                    <h3><i class="fas fa-bolt"></i> Real-time</h3>
                    <h3><i class="fas fa-heart"></i> Safe</h3>
                </div>
            </div>
        </section>

        <section id="login-page" class="hidden-section">
            <div class="login-container">
                <h2>Login</h2>
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('user')">User</button>
                    <button class="tab-btn" onclick="switchTab('admin')">Admin</button>
                </div>

                <div id="user-form">
                    <input type="text" id="username-input" placeholder="Create a Username (Anonymous)">
                    <button onclick="userLogin()" class="btn-primary">Enter Chat</button>
                    
                    <div id="quick-login-area">
                        <h4>Quick Login</h4>
                        <div id="saved-profiles"></div>
                    </div>
                </div>

                <div id="admin-form" style="display:none;">
                    <input type="text" id="admin-user" placeholder="Username">
                    <input type="password" id="admin-pass" placeholder="Password">
                    <button onclick="adminLogin()" class="btn-primary">Admin Access</button>
                </div>
                
                <button onclick="navigateTo('homepage')" class="btn-text">Back to Home</button>
            </div>
        </section>

        <section id="chat-page" class="hidden-section">
            <header class="chat-header">
                <div class="user-info">
                    <span class="status-dot online"></span>
                    <h3>Support Agent (Admin)</h3>
                </div>
                <div class="controls">
                    <button onclick="toggleSettings()" class="icon-btn"><i class="fas fa-cog"></i></button>
                    <button onclick="logout()" class="icon-btn"><i class="fas fa-sign-out-alt"></i></button>
                </div>
            </header>

            <div id="settings-modal" class="settings-panel hidden">
                <button onclick="deleteAccount()" class="btn-danger">Delete Account (Deactivate)</button>
                <div class="contact-info">
                    <p><strong>Professional Help:</strong></p>
                    <p>National Hotline: 988</p>
                    <p>Emergency: 911</p>
                </div>
            </div>

            <div class="chat-window" id="user-chat-window">
                </div>

            <div class="chat-input-area">
                <div class="quick-replies">
                    <button onclick="sendQuickReply('I need help.')">I need help</button>
                    <button onclick="sendQuickReply('I am being bullied.')">I am being bullied</button>
                    <button onclick="sendQuickReply('Is this anonymous?')">Is this anonymous?</button>
                </div>
                <div class="input-wrapper">
                    <input type="text" id="user-message" placeholder="Type a message...">
                    <button onclick="sendMessage('user')"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </section>

        <section id="admin-dashboard" class="hidden-section">
            <div class="admin-layout">
                <aside class="sidebar">
                    <h3>Active Cases</h3>
                    <ul id="user-list">
                        </ul>
                    <button onclick="logout()" class="btn-danger logout-btn">Logout Admin</button>
                </aside>

                <main class="admin-chat">
                    <header id="admin-chat-header">
                        <h3>Select a user to start chatting</h3>
                    </header>
                    <div class="chat-window" id="admin-chat-window"></div>
                    
                    <div class="chat-input-area" id="admin-input-area" style="display:none;">
                         <div class="quick-replies">
                            <button onclick="sendAdminQuickReply('Hello, I am here to help.')">Hello</button>
                            <button onclick="sendAdminQuickReply('Can you tell me more?')">Tell me more</button>
                            <button onclick="sendAdminQuickReply('Stay calm, you are safe here.')">You are safe</button>
                        </div>
                        <div class="input-wrapper">
                            <input type="text" id="admin-message" placeholder="Reply as Admin...">
                            <button onclick="sendMessage('admin')"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </main>
            </div>
        </section>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>